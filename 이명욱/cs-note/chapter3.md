# chapter3 운영체제

작성자 : 이명욱

## 운영체제와 컴퓨터

### 운영체제의 역할
- CPU 스케줄링과 프로세스 관리
- 메모리 관리
- 디스크 파일 관리
- I/O 디바이스 관리

## 메모리

### 메모리 계층
- 레지스터: 휘발성, 속도 가장 빠름, 기억 용량 적음
- 캐시(L1, L2 캐시): 휘발성, 속도 바름, 기억 용량 적음 
- 메모리(RAM): 휘발성, 속도 보통, 기억 용량 보통
- 저장장치(HDD, SSD): 비휘발성, 속도 낮음, 기억 용량 많음

### 캐시: 데이터를 미리 복사해 놓는 임시 저장소, 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리

### 웹 브라우저의 캐시
- 쿠키: 만료 기한이 있는 키-값 저장소(보통 서버에서 만료 기한 설정), 4KB
- 로컬 스토리지: 만료기한이 없는 키-값 저장소, 5MB, 클라이언트에서만 수정 가능
- 세션 스토리지: 만료기한이 없는 키-값 저장소, 탭 단위, 5MB, 클라이언트에서만 수정 가능

### 메모리 관리
- 가상 메모리(virtual memory)
- 스레싱(thrashing)은 메모리의 페이지 폴트율이 높은 것을 의미, 성능 저하

### 페이지 교체 알고리즘
- 오프라인 알고리즘: 사용할 수 없는 알고리즘이지만 가장 좋은 알고리즘
- FIFO(First In First Out)
- LRU(Least Recently Used)
- NUR(Not Used Recently)
- LFU(Least Frequently Used)

## 프로세스와 스레드
> 프로세스: 프로그램, CPU 스케줄링의 대상이 되는 작업, 스레드: 작업의 흐름

### 스택과 힙
- 스택: 지역 변수, 매개변수, 실행되는 하뭇에 의해 늘어들거나 줄어드는 메모리
- 힙: 동적으로 할당되는 변수

### PCB(Process Control Block)

### 임계역역
- 뮤텍스: 잠금 or 잠금 해제(잠금 매커니즘)
- 세마포어: 일반화된 뮤텍스 wait + signal(신호 매커니즘)
- 모니터: 공유 자원 숨기고 해당 점근에 대한 인터페이스만 제공

### 교착상태(deadlock)
두개 이상의 프로세스들이 서로가 가진 자원을 기다리며 중단된 상태
- 원인: 상호 배제, 점유 대기, 비선점, 환형 대기

## CPU 스케줄링 알고리즘
### 비선점형 방식: 프로세스 스스로 CPU 소유권 포기
- FCFS(First Come, First Served): 먼저 온거 먼저, convoy effect(준비 큐에서 오래 기다리는 현상)
- SJF(Shortest Job First): 실행 시간 짧은거 먼저, starvation(긴 시간 프로세스 실행 x), 평균 대기 시간 가장 짧음
- 우선순위: 오래된 작업일수로 우선순위 높혀

### 선점형: 알고리즘에 의해 프로세스 중단, 강제로 다른 프로세스에 CPU 소유권 할당(현대 운영체제 방식)
- 라운드 로빈: 동일한 할당 시간, 시간 안에 끝나지 않으면 준비 큐의 뒤로(ex. 로드밸런서 트랙픽 분산 알고리즘)
  - 할당 시간이 너무 크면 FCFS, 너무 짧으면 컨텍스트 스위칭이 잦아져 오버헤드
  - 전체 작업 시간은 길어지지만 평균 응답 시간으 짧아짐
- SRF(Shortest Remaining Time First): 중간에 더 짧은 작업이 들어오면 수행하던 프로세스 중단
- 다단게 큐: 우선순위에 따른 준비 큐 여러개 + 큐마다 라운드 로빈 or FCF 등 다른 스케줄링 알고리즘 적용
  - 큐 간의 프로세스 이동이 안 되므로 스케줄링 부담이 적지만 유연성이 떨어짐

---

- 캐시 -> Next.js, tanstack(react) query
- 웹브라우저 캐시 (token 관리, 사용자 선호 설정 등)